<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TaskManager</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="app-container" id="app">

  <!-- Header / Navbar -->
  <header>
    <h1>TaskHub</h1>
    <div class="user-controls">
      <button id="toggleDark">Dark Mode</button>
      <button id="logoutBtn" style="display:none;">Logout</button>
    </div>
  </header>

  <!-- Auth Section -->
  <div id="authSection" class="auth-box">
    <div class="tabs">
      <button class="tab active" data-tab="login">Login</button>
      <button class="tab" data-tab="register">Register</button>
    </div>

    <form id="loginForm" class="auth-form active">
      <h2>Login</h2>
      <input type="email"    id="loginEmail"    placeholder="Email" required>
      <input type="password" id="loginPassword" placeholder="Password" required>
      <button type="submit">Login</button>
      <p class="error" id="loginError"></p>
    </form>

    <form id="registerForm" class="auth-form">
      <h2>Register</h2>
      <input type="text"     id="regUsername"   placeholder="Username" required>
      <input type="email"    id="regEmail"      placeholder="Email" required>
      <input type="password" id="regPassword"   placeholder="Password" required>
      <button type="submit">Create Account</button>
      <p class="error" id="regError"></p>
    </form>
  </div>

  <!-- Main Dashboard -->
  <main id="dashboard" style="display:none;">
    
    <section class="controls">
      <button id="addTaskBtn">+ New Task</button>
      
      <input type="text" id="searchInput" placeholder="Search tasks...">
      
      <select id="filterStatus">
        <option value="all">All</option>
        <option value="pending">Pending</option>
        <option value="completed">Completed</option>
      </select>

      <select id="filterCategory">
        <option value="all">All Categories</option>
        <option value="Work">Work</option>
        <option value="Personal">Personal</option>
        <option value="Study">Study</option>
        <option value="Other">Other</option>
      </select>

      <select id="sortSelect">
        <option value="created-desc">Newest first</option>
        <option value="due-asc">Due date ↑</option>
        <option value="due-desc">Due date ↓</option>
        <option value="priority-desc">Priority ↓</option>
      </select>
    </section>

    <section class="stats">
      <div>Total: <span id="totalCount">0</span></div>
      <div>Pending: <span id="pendingCount">0</span></div>
      <div>Completed: <span id="completedCount">0</span></div>
    </section>

    <ul id="taskList"></ul>
  </main>

</div>

<!-- Task Modal -->
<div id="taskModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 id="modalTitle">New Task</h2>
    <form id="taskForm">
      <input type="hidden" id="taskId">
      <label>Title *</label>
      <input type="text" id="taskTitle" required>

      <label>Description</label>
      <textarea id="taskDesc"></textarea>

      <label>Category</label>
      <select id="taskCategory">
        <option value="Work">Work</option>
        <option value="Personal">Personal</option>
        <option value="Study">Study</option>
        <option value="Other" selected>Other</option>
      </select>

      <label>Priority</label>
      <select id="taskPriority">
        <option value="Low">Low</option>
        <option value="Medium" selected>Medium</option>
        <option value="High">High</option>
      </select>

      <label>Due Date</label>
      <input type="date" id="taskDueDate">

      <button type="submit">Save Task</button>
    </form>
  </div>
</div>

<script src="js/auth.js"></script>
<script src="js/tasks.js"></script>

</body>
</html>